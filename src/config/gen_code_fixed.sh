#!/bin/bash
# Copyright (c) 1998 Lawrence Livermore National Security, LLC and other
# HYPRE Project Developers. See the top-level COPYRIGHT file for details.
#
# SPDX-License-Identifier: (Apache-2.0 OR MIT)

# Generate code for fixed precision functions
#
# The script takes a prototype info file (generated by 'gen_proto_info.sh') and
# an output file prefix, then generates files prefix.c and prefix.h containing
# function implementations and prototypes for each line of prototype info.
#
# NOTE: Currently only header file information is generated (e.g., prefix.h).
#
# Usage:   <this-script> <proto-info> <prefix>
# Example: <this-script> mup.fixed.ext.proto mup_fixed_ext

scriptdir=`dirname $0`

PFILE=$1
OUTC="$2.c"
OUTH="$2.h"

echo "" > $OUTC
echo "" > $OUTH

awk -v gen="fixed" -v outc="$OUTC" -v outh="$OUTH" -f $scriptdir/gen_code.awk  $PFILE


#BHEADER***********************************************************************
# (c) 2000   The Regents of the University of California
#
# See the file COPYRIGHT for a complete copyright
# notice, contact person, and disclaimer.
#
# $Revision$
#EHEADER***********************************************************************

###  Copy needed header and source files to lib sub-directory to be compiled
###  and create libHYPRE_lobpcg.a 

include ../config/Makefile.config

HEADERS =\
 ./multivector/HYPRE_interpreter.h\
 ./krylov/HYPRE_lobpcg.h\
 ./krylov/lobpcg.h\
 ./multivector/multivector.h\
 ./parcsr_ls/HYPRE_parcsr_int.h\
 ./sstruct_ls/HYPRE_sstruct_int.h\
 ./struct_ls/HYPRE_struct_int.h\
 ./utilities/fortran_matrix.h\
 ../utilities/fortran.h

FILES = \
 ./krylov/HYPRE_lobpcg.c\
 ./krylov/lobpcg.c\
 ./multivector/multivector.c\
 ./multivector/temp_multivector.c\
 ./parcsr_ls/HYPRE_parcsr_int.c\
 ./sstruct_ls/HYPRE_sstruct_int.c\
 ./struct_ls/HYPRE_struct_int.c\
 ./utilities/fortran_matrix.c


EIGEN_FILES = ${HEADERS} ${FILES}

all:
	@ \
	for file in ${EIGEN_FILES}; \
	do \
	    (cp -f $$file ./lib); \
	done;\
	(cd ./lib && $(MAKE) install)

install: all

clean:
	@(cd ./lib && $(MAKE) $@)

veryclean: clean
